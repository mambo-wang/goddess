webpackJsonp([3],{"B+hf":function(t,e){t.exports=function(){return Function.call.apply(Array.prototype.splice,arguments)}},"CK/j":function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"zh":{"username":"上传","clickToUpload":"点击上传","releaseHomework":"发布作业","operate":{"title":"操作","remove":"删除"},"homework":{"name":"学生姓名","status":"状态","grade":"成绩"}}}')}},HOPc:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"zh":{"type":"方式","design":"作业设计","newHomework":"新建作业","selectModule":"选择模板","selectFiles":"选择文件","courseGroup":"课程组","form":{"name":"作业标题","content":"作业内容","submitDate":"截止日期","appendix":"附件","saveAs":"保存为作业模板","finish":"完成","release":"发布","placeholder":{"name":"请输入作业标题","content":"请输入作业内容"}}}}')}},LT8B:function(t,e){t.exports=function(t){t.options.__i18n=t.options.__i18n||[],t.options.__i18n.push('{"zh":{"grid":{"content":{"submitted":"已提交：","corrected":"已批改：","evaluate":"整体评价："}}}}')}},V97p:function(t,e){},kiI5:function(t,e){},kwJl:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("W3Iv"),n=s.n(a),o=s("7iic"),i=s("y/fk"),r=s.n(i),l={created:function(){this.getCourseGroup()},data:function(){return{isActive:!0,isDesign:!0,form:{name:"",content:"",submitDate:+new Date,fileList:[],isSave:!1,fileIds:[]},courseGroupId:0,courseGroupList:[],tableData:[{name:"asd",profession:"1321",releaseTime:12321312}]}},methods:{changeActive:function(t){this.isActive=t},uploadFiles:function(){this.$refs.upload.submit()},changeCourseGroup:function(t){this.courseGroupId=t},uploadSuccess:function(t,e){var s={id:t[0],uid:e.uid};this.form.fileIds.push(s)},removeFile:function(t){var e=this;this.form.fileIds.some(function(s){t.uid===s.uid&&r()(e.form.fileIds,e.form.fileIds.indexOf(s))})},getCourseGroup:function(){},timeHandler:function(){return"13213"}}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"clearfix"},[s("div",{staticClass:"h-c-left"}),t._v(" "),s("div",{staticClass:"h-c-right"},[s("div",{staticClass:"panel"},[s("div",{staticClass:"panel-header text-left"},[s("span",{domProps:{textContent:t._s(t.$t("type"))}})]),t._v(" "),s("div",{staticClass:"panel-body text-left"},[s("button",{class:["btn",t.isActive?"btn-transform-active":"btn-transform"],on:{click:function(e){t.changeActive(!0)}}},[s("span",{domProps:{textContent:t._s(t.$t("newHomework"))}})]),t._v(" "),s("button",{class:["btn",t.isActive?"btn-transform":"btn-transform-active"],on:{click:function(e){t.changeActive(!1)}}},[s("span",{domProps:{textContent:t._s(t.$t("selectModule"))}})]),t._v(" "),s("div",{staticClass:"panel-homework"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData}},[s("el-table-column",{attrs:{prop:"name"}}),t._v(" "),s("el-table-column",{attrs:{prop:"profession"}}),t._v(" "),s("el-table-column",{attrs:{prop:"releaseTime"}}),t._v(" "),s("el-table-column",{scopedSlots:t._u([{key:"default",fn:function(t){}}])})],1)],1)])]),t._v(" "),s("div",{staticClass:"panel",attrs:{disabled:!t.isDesign}},[s("div",{staticClass:"panel-header text-left"},[s("span",{domProps:{textContent:t._s(t.$t("design"))}})]),t._v(" "),s("div",{staticClass:"panel-body text-left"},[s("el-form",{ref:"form",attrs:{model:t.form,"label-width":"117px"}},[s("el-form-item",{attrs:{label:t.$t("form.name"),required:""}},[s("el-col",{attrs:{span:14}},[s("el-input",{attrs:{placeholder:t.$t("form.placeholder.name"),disabled:!t.isDesign},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),t._v(" "),s("el-form-item",{attrs:{label:t.$t("form.content"),required:""}},[s("el-col",{attrs:{span:21}},[s("el-input",{attrs:{type:"textarea",disabled:!t.isDesign,autosize:{minRows:5}},model:{value:t.form.content,callback:function(e){t.$set(t.form,"content",e)},expression:"form.content"}})],1)],1),t._v(" "),s("el-form-item",{attrs:{label:t.$t("form.submitDate"),required:""}},[s("el-col",{attrs:{span:14}},[s("el-date-picker",{model:{value:t.form.submitDate,callback:function(e){t.$set(t.form,"submitDate",e)},expression:"form.submitDate"}})],1)],1),t._v(" "),s("el-form-item",{attrs:{label:t.$t("form.appendix")}},[s("el-col",{attrs:{span:14}},[s("el-upload",{ref:"upload",attrs:{action:"/homework/attachments/attachment_upload","auto-upload":!1,limit:3,multiple:"","on-success":t.uploadSuccess,"on-remove":t.removeFile,"file-List":t.form.fileList}},[s("el-button",{staticClass:"btn",attrs:{slot:"trigger",type:"primary"},domProps:{textContent:t._s(t.$t("selectFiles"))},slot:"trigger"}),t._v(" "),s("el-button",{staticClass:"btn",attrs:{type:"success"},domProps:{textContent:t._s("clickToUpload")},on:{click:function(e){t.uploadFiles()}}})],1)],1)],1),t._v(" "),s("el-form-item",{attrs:{label:t.$t("form.saveAs")}},[s("el-col",{attrs:{span:14}},[s("el-switch",{model:{value:t.form.isSave,callback:function(e){t.$set(t.form,"isSave",e)},expression:"form.isSave"}})],1)],1),t._v(" "),s("el-form-item",[s("el-col",{attrs:{span:14}},[s("el-button",{staticClass:"btn btn-gradient",domProps:{textContent:t._s(t.$t("form.finish"))}})],1)],1)],1)],1)]),t._v(" "),s("div",{staticClass:"panel clearfix text-left"},[s("div",{staticClass:"panel-header"},[s("span",{domProps:{textContent:t._s(t.$t("courseGroup"))}})]),t._v(" "),s("div",{staticClass:"panel-body text-left"},[t._l(t.courseGroupList,function(e){return s("button",{key:e.id,class:["btn",t.courseGroupId===e.id?"btn-transform-active":"btn-transform"],on:{click:function(s){t.changeCourseGroup(e.id)}}},[s("span",{domProps:{textContent:t._s(e.name)}})])}),t._v(" "),s("br"),t._v(" "),s("el-button",{staticClass:"btn btn-gradient",domProps:{textContent:t._s(t.$t("form.release"))}})],2)])])])},staticRenderFns:[]};var d=s("VU/8")(l,c,!1,function(t){s("V97p")},"data-v-15246904",null),u=s("HOPc");u&&u.__esModule&&(u=u.default),"function"==typeof u&&u(d);var m=d.exports,f=s("Nuup"),p={data:function(){return{}},props:["data","header"],methods:{dateHandler:function(t){return Object(f.a)(new Date(t).getTime(),"yyyy/MM/dd")},showInfo:function(t){this.$emit("showInfo",t)},dateFormat:f.a}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"panel-grid"},[s("div",{staticClass:"panel-grid-header"},[s("span",{on:{click:t.dateFormat}},[t._v(t._s(t.header))])]),t._v(" "),s("div",{staticClass:"panel-grid-body clearfix"},t._l(t.data,function(e){return s("section",{key:e.id,staticClass:"panel-grid-content pull-left m-r-xl m-b-xl",on:{click:function(s){t.showInfo(e)}}},[s("header",[s("span",{staticClass:"m-l-md"},[t._v(t._s(e.name))])]),t._v(" "),s("article",[s("span",[t._v(t._s(t.dateHandler(e.time)))]),s("br"),t._v(" "),s("span",{domProps:{textContent:t._s(t.$t("grid.content.submitted"))}}),t._v(" "),s("div",{class:[e.submited===e.all?"text-success-lt":"","inline"]},[s("span",{class:[e.submited===e.all?"text-success-lt":"text-danger-dker"]},[t._v(t._s(e.submited))]),t._v(" "),s("span",[t._v("/")]),t._v(" "),s("span",[t._v(t._s(e.all))])]),t._v(" "),s("br"),t._v(" "),s("span",{domProps:{textContent:t._s(t.$t("grid.content.corrected"))}}),t._v(" "),s("div",{class:[e.corrected===e.all?"text-success-lt":"","inline"]},[s("span",{class:[e.corrected===e.all?"text-success-lt":"text-primary-lt"]},[t._v(t._s(e.corrected))]),t._v(" "),s("span",[t._v("/")]),t._v(" "),s("span",[t._v(t._s(e.all))]),s("br")]),t._v(" "),s("span",{domProps:{textContent:t._s(t.$t("grid.content.evaluate"))}}),t._v(" "),s("el-rate",{staticClass:"grid-rate m-t",attrs:{"allow-half":!0,disabled:!0},model:{value:e.score,callback:function(s){t.$set(e,"score",s)},expression:"item.score"}})],1),t._v(" "),s("footer",[s("span",[t._v(t._s(e.className))])])])}))])},staticRenderFns:[]};var h=s("VU/8")(p,v,!1,function(t){s("kiI5")},"data-v-a7e77618",null),_=s("LT8B");_&&_.__esModule&&(_=_.default),"function"==typeof _&&_(h);var b=h.exports,g=s("M4fF"),x=s.n(g),k={created:function(){this.getList()},computed:{list:function(){var t=this,e=void 0;if(this.grid.list.length)return e=x.a.groupBy(this.grid.list,function(e){return e[t.search.select]}),n()(e).sort(function(e,s){return"time"===t.search.select?e[0]>s[0]?-1:1:e[0]>s[0]?1:-1})}},data:function(){return{mode:"grid",fileList:[],dialogVisable:!1,search:{select:"time",text:""},keyList:[{id:1,name:"按时间",value:"time"},{id:2,name:"按班级",value:"className"},{id:3,name:"按评分",value:"score"}],selectedKey:"",grid:{header:"",list:[]},detailInfo:{listData:[],fields:[{name:"name",showName:this.$t("homework.name")},{name:"status",showName:this.$t("homework.status")},{name:"score",showName:this.$t("homework.grade"),formatToVnode:this.showStar}],operators:[{name:this.$t("operate.edit"),handler:this.edit},{name:this.$t("operate.remove"),handler:this.remove}]}}},methods:{change:function(t){this.selectedKey=t,this.search.text=""},getList:function(){var t=this;this.$http.get("/homework/list").then(function(e){t.homeworkList=e.data,t.grid.list=e.data})},showDialog:function(){this.dialogVisable=!0},searchHomework:function(t){var e=this;this.grid.list=t?this.homeworkList.filter(function(s){return~(s[e.search.select]+"").indexOf(t.trim())}):this.homeworkList},showInfo:function(t){console.log(t.id),this.mode="list"},removeItems:function(){},showStar:function(){for(var t=this.$createElement,e=[],s=value%2==1,a=parseInt(value/2),n=s?4-a:5-a,o=0;o<a;o++)e.push(t("i",{class:"el-rate__icon el-icon-star-on rate-on"}));s&&e.push(t("i",{class:"el-rate__icon el-icon-star-on"},[t("i",{class:"el-rate__decimal el-icon-star-on rate-half"})]));for(var i=0;i<n;i++)e.push(t("i",{class:"el-rate__icon el-icon-star-on"}));return t("span",{attrs:{title:value}},[e])}},components:{homeworkCreate:m,homeworkGrid:b,listTable:o.a}},C={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"panel-nav"},[s("el-breadcrumb",{staticClass:"m-l-lg",attrs:{separator:"/"}},[s("el-breadcrumb-item",[t._v("\n                首页\n            ")]),t._v(" "),s("el-breadcrumb-item",[t._v("\n                nihao\n            ")])],1),t._v(" "),s("el-button",{staticClass:"btn btn-gradient m-r-lg",on:{click:t.showDialog}},[t._v("\n            "+t._s(t.$t("releaseHomework"))+"\n        ")])],1),t._v(" "),"grid"===t.mode?s("div",{staticClass:"panel-body"},[s("el-select",{on:{change:t.change},model:{value:t.search.select,callback:function(e){t.$set(t.search,"select",e)},expression:"search.select"}},t._l(t.keyList,function(t){return s("el-option",{key:t.id,attrs:{label:t.name,value:t.value}})})),t._v(" "),s("el-input",{staticClass:"input-search",attrs:{suffixIcon:"el-icon-search"},on:{input:t.searchHomework},model:{value:t.search.text,callback:function(e){t.$set(t.search,"text",e)},expression:"search.text"}}),t._v(" "),t._l(t.list,function(e){return s("homework-grid",{key:e.index,staticClass:"m-t",attrs:{header:e[0],data:e[1]},on:{showInfo:t.showInfo}})})],2):t._e(),t._v(" "),"list"===t.mode?s("div",{staticClass:"panel-body-list clearfix"},[s("list-table",{staticClass:"wrapper-md",attrs:{data:t.detailInfo.listData,fields:t.detailInfo.fields,operators:t.detailInfo.operators,"operators-title":t.$t("operate.title")},scopedSlots:t._u([{key:"btns-bottom",fn:function(e){return s("div",{},[s("el-button",{staticClass:"btn btn-manage",on:{click:function(s){t.removeItems(e)}}},[t._v(t._s(t.$t("operate.remove")))])],1)}}])})],1):t._e(),t._v(" "),s("el-dialog",{attrs:{visible:t.dialogVisable,title:t.$t("releaseHomework"),"custom-class":"dialog-lg",top:"0"},on:{"update:visible":function(e){t.dialogVisable=e}}},[s("homework-create")],1)],1)},staticRenderFns:[]};var w=s("VU/8")(k,C,!1,function(t){s("y4QK")},null,null),y=s("CK/j");y&&y.__esModule&&(y=y.default),"function"==typeof y&&y(w);e.default=w.exports},"y/fk":function(t,e,s){t.exports={default:s("B+hf"),__esModule:!0}},y4QK:function(t,e){}});
//# sourceMappingURL=3.079302ceff74e31bdbc1.js.map